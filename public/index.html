<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="16x16" href="../assets/img/Logo TF.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../assets/img/Logo TF.png">
  <link rel="icon" type="image/png" sizes="64x64" href="../assets/img/Logo TF.png">
  <title>TitanFleet - Sistema de Gestión Empresarial</title>
  <link rel="stylesheet" href="../styles/styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../styles/index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script type="module" src="../assets/scripts/firebase-init.js"></script>

</head>

<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#inicio">
        <img src="../assets/img/Logo TF color.png" alt="TitanFleet" style="height: 30px; width: auto; margin-right: 8px;">TitanFleet
      </a>
      
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            <a class="nav-link" href="#inicio">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#comparacion">Comparación</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#caracteristicas">Características</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="../pages/blog.html">Blog</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#nosotros">Nosotros</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#contacto">Contacto</a>
          </li>
        </ul>
        
        <div class="d-flex align-items-center gap-2">
          <a href="../pages/demo.html" class="btn-demo-custom">
            <i class="fas fa-play-circle"></i>Demo
          </a>
          <a href="#" class="btn-login" data-bs-toggle="modal" data-bs-target="#loginModal">
            <i class="fas fa-rocket"></i>Acceder al Sistema
          </a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Carousel Section - Hero -->
  <section id="inicio" class="carousel-section">
    <div class="container">
      <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000" data-bs-wrap="true" data-bs-pause="false">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="../assets/img/truck_1.jpg" class="d-block w-100" alt="Sistema Completo">
            <div class="carousel-caption d-none d-md-block text-center">
              <h3>Plataforma Empresarial Todo en Uno</h3>
              <p>TitanFleet reúne en un solo sistema todos los procesos clave de tu empresa —Logística, Facturación, Tráfico, Operadores, Diesel, Mantenimiento, Tesorería, CXC, CXP, Inventario y Reportes— para que tu negocio avance con eficiencia y confianza.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="../assets/img/truck_2.jpg" class="d-block w-100" alt="Módulos Integrados">
            <div class="carousel-caption d-none d-md-block text-center">
              <h3>Procesos Conectados sin Esfuerzo</h3>
              <p>Cada módulo de TitanFleet se comunica automáticamente con los demás. La información fluye entre Logística, Tráfico y Facturación sin duplicaciones, reduciendo errores y ahorrando tiempo en tu operación diaria.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="../assets/img/truck_3.jpg" class="d-block w-100" alt="Sincronización en Tiempo Real">
            <div class="carousel-caption d-none d-md-block text-center">
              <h3>Datos Actualizados al Instante</h3>
              <p>Con nuestra infraestructura en la nube, tu información se sincroniza de inmediato. Accede desde cualquier dispositivo y garantiza que tu equipo trabaje siempre con datos precisos y en tiempo real.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="../assets/img/truck_4.jpg" class="d-block w-100" alt="Multi-Tenant y Seguridad">
            <div class="carousel-caption d-none d-md-block text-center">
              <h3>Con Corazón y Esfuerzo, para tu Empresa</h3>
              <p>TitanFleet no es solo software: es el resultado de pasión, trabajo constante y visión. Una plataforma que evoluciona contigo y con las necesidades del transporte.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img src="../assets/img/truck_5.jpg" class="d-block w-100" alt="Interfaz Moderna">
            <div class="carousel-caption d-none d-md-block text-center">
              <h3>Interfaz Moderna y Fácil de Usar</h3>
              <p>Diseño intuitivo y profesional que facilita la adopción del sistema. Sin necesidad de capacitación extensa, tus empleados comenzarán a trabajar eficientemente desde el primer día.</p>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Siguiente</span>
        </button>
      </div>
    </div>
  </section>

  <!-- Comparison Section -->
  <section id="comparacion" class="comparison-section">
    <div class="container">
      <div class="section-header text-center">
        <h2 class="section-title text-center">TitanFleet frente al resto</h2>
        <p class="section-subtitle text-center">
          Compara lo que realmente importa: implementación, costo y confianza. TitanFleet está diseñado para empresas de transporte, no para ser un sistema genérico.
        </p>
      </div>
      
      <div class="comparison-table-container">
        <div class="comparison-table">
          <div class="table-header">
            <div class="feature-column">Características</div>
            <div class="erp-column erp-rankiao">
              <div class="erp-logo">
                <img src="../assets/img/Logo TF.png" alt="TitanFleet Logo" class="erp-logo-img">
                <span>TitanFleet</span>
              </div>
            </div>
            <div class="erp-column erp-competitor">
              <div class="erp-logo">
                <i class="fas fa-building"></i>
                <span>ERP Tradicional</span>
              </div>
            </div>
            <div class="erp-column erp-competitor">
              <div class="erp-logo">
                <i class="fas fa-cloud"></i>
                <span>ERP en la Nube</span>
              </div>
            </div>
          </div>
          
          <div class="table-row">
            <div class="feature-name">Implementación</div>
            <div class="feature-value rankiao">
              <i class="fas fa-check-circle"></i>
              <span>Rápida y personalizada</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-times-circle"></i>
              <span>Lenta y compleja</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-clock"></i>
              <span>Moderada</span>
            </div>
          </div>
          
          <div class="table-row">
            <div class="feature-name">Costo Total</div>
            <div class="feature-value rankiao">
              <i class="fas fa-check-circle"></i>
              <span>Una sola licencia, todos los módulos, sin límites de usuarios
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-times-circle"></i>
              <span>Alto costo inicial</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-exclamation-triangle"></i>
              <span>Costos ocultos</span>
            </div>
          </div>
          
          <div class="table-row">
            <div class="feature-name">Módulos Integrados</div>
            <div class="feature-value rankiao">
              <i class="fas fa-check-circle"></i>
              <span>Logística, Facturación, Inventario, Tesorería</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-exclamation-triangle"></i>
              <span>Módulos separados</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-exclamation-triangle"></i>
              <span>Integración limitada</span>
            </div>
          </div>
          
          <div class="table-row">
            <div class="feature-name">Personalización</div>
            <div class="feature-value rankiao">
              <i class="fas fa-check-circle"></i>
              <span>Totalmente adaptable</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-times-circle"></i>
              <span>Limitada</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-exclamation-triangle"></i>
              <span>Configuración básica</span>
            </div>
          </div>
          
          <div class="table-row">
            <div class="feature-name">Seguridad de Datos</div>
            <div class="feature-value rankiao">
              <i class="fas fa-check-circle"></i>
              <span>Datos protegidos con estándares de Google Cloud
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-check-circle"></i>
              <span>Estándar</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-exclamation-triangle"></i>
              <span>Dependiente del proveedor</span>
            </div>
          </div>
          
          <div class="table-row">
            <div class="feature-name">Actualizaciones</div>
            <div class="feature-value rankiao">
              <i class="fas fa-check-circle"></i>
              <span>Continuas y gratuitas</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-times-circle"></i>
              <span>Costosas y lentas</span>
            </div>
            <div class="feature-value competitor">
              <i class="fas fa-exclamation-triangle"></i>
              <span>Automáticas pero limitadas</span>
            </div>
          </div>
          
        </div>
      </div>

  <!-- Features Section -->
  <section id="caracteristicas" class="features-section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">La arquitectura TitanFleet</h2>
        <p class="section-subtitle">
          Observa cómo cada módulo se enlaza de forma natural para ofrecer una solución integral al transporte.
        </p>
      </div>
   
      <div id="diagrama-flujo">
        <img src="../assets/img/Diagrama.svg" alt="Diagrama de Flujo del Sistema ERP" style="width: 100%; height: auto; display: block;">
      </div>

    </div>
  </section>

  <!-- About Section -->
  <section id="nosotros" class="about-section">
    <div class="container">
      <div class="about-content">
        <div class="about-text">
          <h2>Acerca de Nosotros</h2>
          <p>
             TitanFleet nació del esfuerzo de un fundador apasionado por la tecnología y la gestión empresarial. Más que un software, 
              es un proyecto con corazón, creado para simplificar la operación de las empresas de transporte y ayudarlas a crecer con 
             herramientas claras, confiables y en constante evolución
          </p>
        </div>
        
        <div class="about-carousel-wrapper">
          <div id="misionCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="6000" data-bs-wrap="true">
            <div class="carousel-inner">
              <!-- Misión -->
              <div class="carousel-item active">
                <div class="about-carousel-item">
                  <h3>Nuestra Misión</h3>
                  <p>
                    Simplificar la gestión empresarial a través de tecnología intuitiva y eficiente, 
                    permitiendo que las empresas se enfoquen en lo que realmente importa: crecer y prosperar.
                  </p>
                </div>
              </div>
              
              <!-- Visión -->
              <div class="carousel-item">
                <div class="about-carousel-item">
                  <h3>Visión</h3>
                  <p>
                    Ser la plataforma líder que transforma la gestión empresarial en el sector transporte y logística, 
                    ofreciendo soluciones tecnológicas confiables, simples y escalables que impulsen el crecimiento 
                    sostenible de las empresas en todo el mundo.
                  </p>
                </div>
              </div>
              
              <!-- Valores -->
              <div class="carousel-item">
                <div class="about-carousel-item">
                  <h3>Valores</h3>
                  <div class="valores-list">
                    <div class="valor-item">
                      <i class="fas fa-check-circle"></i>
                      <span><strong>Simplicidad:</strong> Diseñamos soluciones claras y fáciles de usar, sin complicaciones innecesarias.</span>
                    </div>
                    <div class="valor-item">
                      <i class="fas fa-check-circle"></i>
                      <span><strong>Innovación:</strong> Buscamos constantemente nuevas formas de optimizar procesos y aportar valor.</span>
                    </div>
                    <div class="valor-item">
                      <i class="fas fa-check-circle"></i>
                      <span><strong>Confiabilidad:</strong> Garantizamos estabilidad y precisión en cada operación.</span>
                    </div>
                    <div class="valor-item">
                      <i class="fas fa-check-circle"></i>
                      <span><strong>Cercanía:</strong> Entendemos las necesidades reales de las empresas y trabajamos hombro a hombro con ellas.</span>
                    </div>
                    <div class="valor-item">
                      <i class="fas fa-check-circle"></i>
                      <span><strong>Transparencia:</strong> Promovemos relaciones honestas y abiertas con nuestros clientes.</span>
                    </div>
                    <div class="valor-item">
                      <i class="fas fa-check-circle"></i>
                      <span><strong>Escalabilidad:</strong> Creamos tecnología que crece al ritmo de las empresas.</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <button class="carousel-control-prev" type="button" data-bs-target="#misionCarousel" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Anterior</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#misionCarousel" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Siguiente</span>
            </button>
          
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contacto" class="contact-section">
    <div class="container">
      <div class="contact-grid">
        <div class="contact-info">
          <h2>Contáctanos</h2>
          <p>¿Tienes preguntas? Estamos aquí para ayudarte a optimizar tu empresa.</p>
          
          <div class="contact-item">
            <div class="contact-icon">
              <i class="fas fa-phone"></i>
            </div>
            <div class="contact-details">
              <h4>Teléfono</h4>
              <p>+52 (55) 1234-5678</p>
            </div>
          </div>
          
          <div class="contact-item">
            <div class="contact-icon">
              <i class="fas fa-envelope"></i>
            </div>
            <div class="contact-details">
              <h4>Email</h4>
              <p>info@erprankiao.com</p>
            </div>
          </div>
          
          <div class="contact-item">
            <div class="contact-icon">
              <i class="fas fa-map-marker-alt"></i>
          </div>
            <div class="contact-details">
              <h4>Ubicación</h4>
              <p>Ciudad de México, México</p>
          </div>
          </div>
        </div>
        
        <div class="contact-form">
          <h3>Enviarnos un Mensaje</h3>
          <form>
            <div class="form-row">
              <div class="form-group">
                <input type="text" class="form-control" placeholder="Tu Nombre" required>
              </div>
              <div class="form-group">
                <input type="email" class="form-control" placeholder="Tu Email" required>
              </div>
            </div>
            <div class="form-group-full">
              <input type="text" class="form-control" placeholder="Asunto">
            </div>
            <div class="form-group-full">
              <textarea class="form-control" rows="4" placeholder="Tu Mensaje" required></textarea>
            </div>
            <button type="submit" class="btn-submit">
              <i class="fas fa-paper-plane me-2"></i>Enviar Mensaje
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 TitanFleet. Todos los derechos reservados.</p>
      <p>Sistema de Gestión Empresarial Integral</p>
    </div>
  </footer>

  <script src="../assets/scripts/auth.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/scripts/index.js"></script>
  
  <!-- Scripts para el flujo de activación -->
  <script src="../assets/scripts/demo-config.js"></script>
  <script src="../assets/scripts/license-manager.js"></script>
  <script src="../assets/scripts/index-activation-flow.js"></script>
  
  <!-- Función para copiar al portapapeles -->
  <script>
    window.copyToClipboard = function(elementId) {
      const element = document.getElementById(elementId);
      if (element) {
        element.select();
        element.setSelectionRange(0, 99999); // Para móviles
        try {
          document.execCommand('copy');
          // Mostrar feedback visual
          const btn = event.target.closest('button');
          if (btn) {
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-check"></i>';
            btn.classList.add('btn-success');
            btn.classList.remove('btn-outline-secondary');
            setTimeout(() => {
              btn.innerHTML = originalHTML;
              btn.classList.remove('btn-success');
              btn.classList.add('btn-outline-secondary');
            }, 2000);
          }
        } catch (err) {
          console.error('Error al copiar:', err);
          // Fallback: usar Clipboard API si está disponible
          if (navigator.clipboard) {
            navigator.clipboard.writeText(element.value).then(() => {
              const btn = event.target.closest('button');
              if (btn) {
                const originalHTML = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i>';
                btn.classList.add('btn-success');
                btn.classList.remove('btn-outline-secondary');
                setTimeout(() => {
                  btn.innerHTML = originalHTML;
                  btn.classList.remove('btn-success');
                  btn.classList.add('btn-outline-secondary');
                }, 2000);
              }
            });
          }
        }
      }
    };
  </script>
  
  <!-- Modal de Activación de Licencia -->
  <div class="modal fade" id="licenseActivationModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="background:linear-gradient(135deg, #10b981 0%, #059669 100%); color:white;">
          <h5 class="modal-title" style="font-weight:700;">
            <i class="fas fa-key me-2"></i>Activar Licencia - Paso 1 de 2
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="alert alert-info">
            <i class="fas fa-info-circle me-2"></i>
            <strong>Bienvenido a TitanFleet ERP</strong><br>
            Para comenzar, necesitas activar tu licencia. Ingresa la clave que recibiste al adquirir el sistema.
          </div>
          
          <!-- Verificar si ya hay una licencia activa -->
          <div id="existingLicenseAlert" class="alert alert-success mb-3" style="display: none;">
            <i class="fas fa-check-circle me-2"></i>
            <strong>¡Ya tienes una licencia activa!</strong><br>
            <div class="mt-2">
              <strong>Licencia:</strong> <span id="existingLicenseKey" class="fw-bold text-primary"></span><br>
              <strong>Tipo:</strong> <span id="existingLicenseType" class="badge bg-info"></span>
            </div>
            <button type="button" class="btn btn-sm btn-outline-light mt-2" onclick="showLicenseDetails()">
              <i class="fas fa-eye me-2"></i>Ver Detalles Completos de la Licencia
            </button>
            <button type="button" class="btn btn-sm btn-success mt-2 ms-2" onclick="continueToCreateUser()">
              <i class="fas fa-arrow-right me-2"></i>Continuar a Crear Administrador
            </button>
          </div>
          
          <form id="licenseActivationForm">
            <div class="mb-3">
              <label for="licenseKeyInput" class="form-label" style="color:#03363D; font-weight:600;">Clave de Licencia <span class="text-danger">*</span></label>
              <input 
                type="text" 
                class="form-control" 
                id="licenseKeyInput" 
                placeholder="TF2512A-XXXXXXXX-XXXXXXXX"
                pattern="TF\d{2}\d{2}[AMT]-[A-Z0-9]{8}-[A-Z0-9]{8}"
                required
                style="font-family: 'Courier New', monospace;"
              >
              <div class="form-text">
                <i class="fas fa-info-circle me-1"></i>
                Formato: TF2512A-XXXXXXXX-XXXXXXXX
              </div>
              <div id="licenseError" class="text-danger mt-2" style="display:none;"></div>
            </div>
            <div id="licenseInfoPreview" class="card border-primary mb-3" style="display:none;">
              <div class="card-body">
                <h6 class="card-title"><i class="fas fa-info-circle me-2"></i>Información de tu Licencia</h6>
                <p class="mb-1"><strong>Plan:</strong> <span id="previewPlan">-</span></p>
                <p class="mb-0"><strong>Tipo:</strong> <span id="previewType">-</span></p>
              </div>
            </div>
            <div class="d-grid gap-2">
              <button type="submit" class="btn btn-success" style="font-weight:600;">
                <i class="fas fa-check me-2"></i>Activar Licencia
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal para Ver Detalles de Licencia Activa -->
  <div class="modal fade" id="licenseDetailsModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header" style="background:linear-gradient(135deg, #10b981 0%, #059669 100%); color:white;">
          <h5 class="modal-title" style="font-weight:700;">
            <i class="fas fa-key me-2"></i>Detalles de tu Licencia
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="card border-primary">
            <div class="card-header bg-primary text-white">
              <i class="fas fa-info-circle me-2"></i>Información Completa de la Licencia
            </div>
            <div class="card-body">
              <div class="row g-3">
                <div class="col-md-12">
                  <label class="form-label"><strong>Clave de Licencia:</strong></label>
                  <div class="input-group">
                    <input type="text" class="form-control" id="detailsLicenseKey" 
                           readonly style="font-family: 'Courier New', monospace; font-weight: bold;">
                    <button class="btn btn-outline-primary" type="button" 
                            onclick="copyToClipboard('detailsLicenseKey')" title="Copiar">
                      <i class="fas fa-copy"></i> Copiar
                    </button>
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label"><strong>Tipo:</strong></label>
                  <div>
                    <span id="detailsLicenseType" class="badge bg-info fs-6"></span>
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label"><strong>Plan:</strong></label>
                  <div>
                    <span id="detailsLicensePlan" class="text-primary fw-bold">-</span>
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label"><strong>Estado:</strong></label>
                  <div>
                    <span class="badge bg-success fs-6">Activa</span>
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label"><strong>Tenant ID:</strong></label>
                  <div>
                    <code id="detailsTenantId" class="text-muted">-</code>
                  </div>
                </div>
                <div class="col-md-6">
                  <label class="form-label"><strong>Fecha de Activación:</strong></label>
                  <div>
                    <span id="detailsActivatedDate" class="text-muted">-</span>
                  </div>
                </div>
                <div class="col-md-6" id="detailsExpiresContainer" style="display: none;">
                  <label class="form-label"><strong>Fecha de Expiración:</strong></label>
                  <div>
                    <span id="detailsExpiresDate" class="text-muted">-</span>
                  </div>
                </div>
                <div class="col-md-12" id="detailsDaysRemainingContainer" style="display: none;">
                  <label class="form-label"><strong>Días Restantes:</strong></label>
                  <div>
                    <span id="detailsDaysRemaining" class="badge bg-warning text-dark fs-6">-</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="alert alert-info mt-3 mb-0">
            <i class="fas fa-lightbulb me-2"></i>
            <strong>¿Listo para continuar?</strong> Si esta es tu licencia correcta, puedes proceder a crear tu usuario administrador.
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            <i class="fas fa-times me-2"></i>Cerrar
          </button>
          <button type="button" class="btn btn-primary" onclick="continueToCreateUserFromDetails()">
            <i class="fas fa-arrow-right me-2"></i>Continuar a Crear Administrador
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de Creación de Primer Usuario -->
  <div class="modal fade" id="firstUserModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header" style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); color:white;">
          <h5 class="modal-title" style="font-weight:700;">
            <i class="fas fa-key me-2"></i>Activa tu licencia
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Paso 1: Activar Licencia -->
          <div id="licenseActivationStep">
            <div class="alert alert-info">
              <i class="fas fa-info-circle me-2"></i>
              <strong>Bienvenido a TitanFleet ERP</strong><br>
              Para comenzar, ingresa tu clave de licencia. Una vez validada, podrás crear tu usuario administrador.
            </div>
            
            <form id="licenseActivationFormInModal">
              <div class="mb-3">
                <label for="licenseKeyInputInModal" class="form-label" style="color:#03363D; font-weight:600;">Clave de Licencia <span class="text-danger">*</span></label>
                <input 
                  type="text" 
                  class="form-control" 
                  id="licenseKeyInputInModal" 
                  placeholder="TF2512A-XXXXXXXX-XXXXXXXX"
                  pattern="TF\d{2}\d{2}[AMT]-[A-Z0-9]{8}-[A-Z0-9]{8}"
                  required
                  style="font-family: 'Courier New', monospace;"
                >
                <div class="form-text">
                  <i class="fas fa-info-circle me-1"></i>
                  Formato: TF2512A-XXXXXXXX-XXXXXXXX
                </div>
                <div id="licenseErrorInModal" class="text-danger mt-2" style="display:none;"></div>
              </div>
              <div id="licenseInfoPreviewInModal" class="card border-primary mb-3" style="display:none;">
                <div class="card-body">
                  <h6 class="card-title"><i class="fas fa-info-circle me-2"></i>Información de tu Licencia</h6>
                  <p class="mb-1"><strong>Plan:</strong> <span id="previewPlanInModal">-</span></p>
                  <p class="mb-0"><strong>Tipo:</strong> <span id="previewTypeInModal">-</span></p>
                </div>
              </div>
              <div class="d-grid gap-2">
                <button type="submit" class="btn btn-success" style="font-weight:600;">
                  <i class="fas fa-check me-2"></i>Validar y Activar Licencia
                </button>
              </div>
            </form>
          </div>
          
          <!-- Paso 2: Crear Usuario Administrador (se muestra después de activar licencia) -->
          <div id="createUserStep" style="display: none;">
            <div class="alert alert-success">
              <i class="fas fa-check-circle me-2"></i>
              <strong>¡Licencia activa!</strong><br>
              Tu licencia está activa y lista para usar. Ahora crea el primer usuario administrador para tu sistema.
            </div>
            
            <!-- Información de la Licencia -->
            <div class="card border-primary mb-4">
              <div class="card-header bg-primary text-white">
                <i class="fas fa-key me-2"></i>Información de tu Licencia
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-md-6 mb-2">
                    <strong>Clave de Licencia:</strong>
                    <div class="input-group mt-1">
                      <input type="text" class="form-control form-control-sm" id="activeLicenseKeyDisplay" 
                             readonly style="font-family: 'Courier New', monospace; font-weight: bold;">
                      <button class="btn btn-outline-secondary btn-sm" type="button" 
                              onclick="copyToClipboard('activeLicenseKeyDisplay')" title="Copiar">
                        <i class="fas fa-copy"></i>
                      </button>
                    </div>
                  </div>
                  <div class="col-md-6 mb-2">
                    <strong>Tipo:</strong>
                    <div class="mt-1">
                      <span id="activeLicenseType" class="badge bg-info"></span>
                    </div>
                  </div>
                  <div class="col-md-6 mb-2">
                    <strong>Plan:</strong>
                    <div class="mt-1">
                      <span id="activeLicensePlan" class="text-primary fw-bold">-</span>
                    </div>
                  </div>
                  <div class="col-md-6 mb-2">
                    <strong>Estado:</strong>
                    <div class="mt-1">
                      <span class="badge bg-success">Activa</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <form id="firstUserForm" class="needs-validation" novalidate>
            <div class="row g-3">
              <div class="col-md-6">
                <label for="firstUserName" class="form-label" style="color:#03363D; font-weight:600;">Nombre Completo <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="firstUserName" placeholder="Ej: Juan Pérez García" required>
                <div class="invalid-feedback">Por favor ingresa tu nombre completo.</div>
              </div>
              <div class="col-md-6">
                <label for="firstUserEmail" class="form-label" style="color:#03363D; font-weight:600;">Email (Usuario) <span class="text-danger">*</span></label>
                <input type="email" class="form-control" id="firstUserEmail" placeholder="correo@empresa.com" required>
                <div class="invalid-feedback">Por favor ingresa un email válido.</div>
              </div>
              <div class="col-md-6">
                <label for="firstUserPassword" class="form-label" style="color:#03363D; font-weight:600;">Contraseña <span class="text-danger">*</span></label>
                <div class="input-group">
                  <input type="password" class="form-control" id="firstUserPassword" placeholder="Mínimo 6 caracteres" required minlength="6">
                  <button class="btn btn-outline-secondary" type="button" id="toggleFirstUserPassword">
                    <i class="fas fa-eye"></i>
                  </button>
                </div>
                <div class="invalid-feedback">La contraseña debe tener al menos 6 caracteres.</div>
              </div>
              <div class="col-md-6">
                <label for="firstUserConfirmPassword" class="form-label" style="color:#03363D; font-weight:600;">Confirmar Contraseña <span class="text-danger">*</span></label>
                <div class="input-group">
                  <input type="password" class="form-control" id="firstUserConfirmPassword" placeholder="Confirma tu contraseña" required>
                  <button class="btn btn-outline-secondary" type="button" id="toggleFirstUserConfirmPassword">
                    <i class="fas fa-eye"></i>
                  </button>
                </div>
                <div class="invalid-feedback">Las contraseñas no coinciden.</div>
              </div>
              <div class="col-md-6">
                <label for="firstUserPhone" class="form-label" style="color:#03363D; font-weight:600;">Teléfono</label>
                <input type="tel" class="form-control" id="firstUserPhone" placeholder="(55) 1234-5678">
              </div>
              <div class="col-md-6">
                <label for="firstUserCompany" class="form-label" style="color:#03363D; font-weight:600;">Empresa</label>
                <input type="text" class="form-control" id="firstUserCompany" placeholder="Nombre de tu empresa">
              </div>
            </div>
            <div class="alert alert-warning mt-3">
              <i class="fas fa-shield-alt me-2"></i>
              <strong>Nota:</strong> Este usuario será creado como <strong>Administrador</strong> con acceso completo a todos los módulos del sistema.
            </div>
            <div class="d-grid gap-2 mt-3">
              <button type="submit" class="btn btn-primary" style="font-weight:600;">
                <i class="fas fa-user-plus me-2"></i>Crear Administrador y Acceder
              </button>
            </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            <i class="fas fa-times me-2"></i>Cancelar
          </button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Login Modal -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header" style="background:#F8F9F9; border-bottom:1px solid #e5e7eb;">
          <h5 class="modal-title" style="color:#03363D; font-weight:700;">
            <i class="fas fa-lock me-2"></i>Iniciar Sesión
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <!-- Botón para activar licencia (si no hay licencia activa) -->
          <div id="activateLicenseSection" class="mb-3" style="display: block;">
            <div class="alert alert-info">
              <i class="fas fa-key me-2"></i>
              <strong>¿Primera vez?</strong> Si acabas de adquirir una licencia, actívala primero.
            </div>
            <button type="button" class="btn btn-success w-100 mb-3" onclick="openLicenseActivation()">
              <i class="fas fa-key me-2"></i>Activar mi Licencia
            </button>
            <hr class="my-3">
          </div>
          
          <form id="modalLoginForm">
            <div class="mb-3">
              <label for="modalUsername" class="form-label" style="color:#03363D; font-weight:600;">Usuario</label>
              <input type="text" class="form-control" id="modalUsername" placeholder="Ingresa tu usuario" required>
            </div>
            <div class="mb-3">
              <label for="modalPassword" class="form-label" style="color:#03363D; font-weight:600;">Contraseña</label>
              <div class="input-group">
                <input type="password" class="form-control" id="modalPassword" placeholder="Ingresa tu contraseña" required>
                <button class="btn btn-outline-secondary" type="button" id="toggleModalPassword" aria-label="Mostrar u ocultar contraseña">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>
            <div class="d-flex justify-content-between align-items-center mb-2">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="modalRemember">
                <label class="form-check-label" for="modalRemember" style="color:#174D4D;">Recordarme</label>
              </div>
              <a href="#" id="modalForgot" class="text-decoration-none" style="color:#174D4D;">¿Olvidaste tu contraseña?</a>
            </div>
            <button type="submit" class="btn w-100" style="background:#000; color:#fff; font-weight:600;">Acceder</button>
          </form>
          
          <!-- Enlace para activar licencia al final -->
          <div class="text-center mt-3">
            <a href="#" onclick="openLicenseActivation(); return false;" class="text-decoration-none" style="color:#174D4D;">
              <i class="fas fa-key me-1"></i>¿Necesitas activar una licencia?
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- Inicializar carrusel -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Inicializar carrusel
      const carouselElement = document.querySelector('#carouselExampleCaptions');
      if (carouselElement) {
        const carousel = new bootstrap.Carousel(carouselElement, {
          interval: 5000,
          wrap: true,
          pause: false,
          ride: 'carousel'
        });
      }

      // Asegurar que el enlace del blog funcione
      const blogLink = document.querySelector('a[href="../pages/blog.html"]');
      if (blogLink) {
        blogLink.addEventListener('click', function(e) {
          e.preventDefault();
          window.location.href = '../pages/blog.html';
        });
      }
    });
  </script>
</body>
</html>